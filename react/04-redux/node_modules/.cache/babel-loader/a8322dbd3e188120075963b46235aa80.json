{"ast":null,"code":"import _objectSpread from\"/Users/markiyanpryima/Desktop/globallogic-js-basecamp-2021/react/03-react-router-formik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/markiyanpryima/Desktop/globallogic-js-basecamp-2021/react/03-react-router-formik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markiyanpryima/Desktop/globallogic-js-basecamp-2021/react/03-react-router-formik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{wait,createGetId,getTimestamp,throwError}from'../utisl';import data from'./db';var getId=createGetId(data.length);var api={// GET /users\ngetUsers:function getUsers(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return wait(1000);case 2:console.log('GET /users',data);return _context.abrupt(\"return\",data);case 4:case\"end\":return _context.stop();}}},_callee);}))();},// GET /users/:id\ngetUser:function getUser(id){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return wait();case 2:user=data.find(function(u){return u.id===id;});if(!user){_context2.next=8;break;}console.log(\"GET /users/\".concat(user.id),user);return _context2.abrupt(\"return\",user);case 8:throwError(id);case 9:case\"end\":return _context2.stop();}}},_callee2);}))();},// POST /users\ncreateUser:function createUser(user){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return wait();case 2:newUser=_objectSpread(_objectSpread({},user),{},{id:getId(),timestamp:getTimestamp()});data.push(newUser);console.log('POST /users',newUser);return _context3.abrupt(\"return\",newUser);case 6:case\"end\":return _context3.stop();}}},_callee3);}))();},// PUT /users\neditUser:function editUser(user){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var index;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return wait();case 2:index=data.findIndex(function(u){return u.id===user.id;});if(!~index){_context4.next=9;break;}data[index]=_objectSpread(_objectSpread({},user),{},{timestamp:getTimestamp()});console.log('PUT /users',data[index]);return _context4.abrupt(\"return\",data[index]);case 9:throwError(user.id);case 10:case\"end\":return _context4.stop();}}},_callee4);}))();},// DELETE /users\ndeleteUser:function deleteUser(user){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var index;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return wait();case 2:index=data.findIndex(function(u){return u.id===user.id;});if(!~index){_context5.next=8;break;}console.log('DELETE /users',user);return _context5.abrupt(\"return\",data.splice(index,1));case 8:throwError(user.id);case 9:case\"end\":return _context5.stop();}}},_callee5);}))();},// GET /roles\ngetRoles:function getRoles(){return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var ROLES;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return wait();case 2:ROLES=['user','super-user','admin'];console.log('GET /roles',ROLES);return _context6.abrupt(\"return\",ROLES);case 5:case\"end\":return _context6.stop();}}},_callee6);}))();}};export default api;","map":{"version":3,"sources":["/Users/markiyanpryima/Desktop/globallogic-js-basecamp-2021/react/03-react-router-formik/src/api/userApi/index.js"],"names":["wait","createGetId","getTimestamp","throwError","data","getId","length","api","getUsers","console","log","getUser","id","user","find","u","createUser","newUser","timestamp","push","editUser","index","findIndex","deleteUser","splice","getRoles","ROLES"],"mappings":"smBAAA,OAASA,IAAT,CAAeC,WAAf,CAA4BC,YAA5B,CAA0CC,UAA1C,KAA4D,UAA5D,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CAEA,GAAMC,CAAAA,KAAK,CAAGJ,WAAW,CAACG,IAAI,CAACE,MAAN,CAAzB,CAEA,GAAMC,CAAAA,GAAG,CAAG,CACV;AACMC,QAFI,oBAEO,yNACTR,CAAAA,IAAI,CAAC,IAAD,CADK,QAGfS,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BN,IAA1B,EAHe,gCAIRA,IAJQ,6DAKhB,CAPS,CAQV;AACMO,OATI,kBASIC,EATJ,CASQ,wOACVZ,CAAAA,IAAI,EADM,QAGVa,IAHU,CAGHT,IAAI,CAACU,IAAL,CAAU,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACH,EAAF,GAASA,EAAb,EAAX,CAHG,KAKZC,IALY,0BAMdJ,OAAO,CAACC,GAAR,sBAA0BG,IAAI,CAACD,EAA/B,EAAqCC,IAArC,EANc,iCAOPA,IAPO,SASdV,UAAU,CAACS,EAAD,CAAV,CATc,6DAWjB,CApBS,CAqBV;AACMI,UAtBI,qBAsBOH,IAtBP,CAsBa,2OACfb,CAAAA,IAAI,EADW,QAGfiB,OAHe,gCAIhBJ,IAJgB,MAKnBD,EAAE,CAAEP,KAAK,EALU,CAMnBa,SAAS,CAAEhB,YAAY,EANJ,GASrBE,IAAI,CAACe,IAAL,CAAUF,OAAV,EAEAR,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BO,OAA3B,EAXqB,iCAYdA,OAZc,+DAatB,CAnCS,CAoCV;AACMG,QArCI,mBAqCKP,IArCL,CAqCW,yOACbb,CAAAA,IAAI,EADS,QAGbqB,KAHa,CAGLjB,IAAI,CAACkB,SAAL,CAAe,SAAAP,CAAC,QAAIA,CAAAA,CAAC,CAACH,EAAF,GAASC,IAAI,CAACD,EAAlB,EAAhB,CAHK,KAKf,CAACS,KALc,0BAMjBjB,IAAI,CAACiB,KAAD,CAAJ,gCACKR,IADL,MAEEK,SAAS,CAAEhB,YAAY,EAFzB,GAKAO,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BN,IAAI,CAACiB,KAAD,CAA9B,EAXiB,iCAYVjB,IAAI,CAACiB,KAAD,CAZM,SAcjBlB,UAAU,CAACU,IAAI,CAACD,EAAN,CAAV,CAdiB,8DAgBpB,CArDS,CAsDV;AACMW,UAvDI,qBAuDOV,IAvDP,CAuDa,yOACfb,CAAAA,IAAI,EADW,QAGfqB,KAHe,CAGPjB,IAAI,CAACkB,SAAL,CAAe,SAAAP,CAAC,QAAIA,CAAAA,CAAC,CAACH,EAAF,GAASC,IAAI,CAACD,EAAlB,EAAhB,CAHO,KAKjB,CAACS,KALgB,0BAMnBZ,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BG,IAA7B,EANmB,iCAOZT,IAAI,CAACoB,MAAL,CAAYH,KAAZ,CAAmB,CAAnB,CAPY,SASnBlB,UAAU,CAACU,IAAI,CAACD,EAAN,CAAV,CATmB,6DAWtB,CAlES,CAmEV;AACMa,QApEI,oBAoEO,yOACTzB,CAAAA,IAAI,EADK,QAET0B,KAFS,CAED,CAAC,MAAD,CAAS,YAAT,CAAuB,OAAvB,CAFC,CAIfjB,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BgB,KAA1B,EAJe,iCAKRA,KALQ,+DAMhB,CA1ES,CAAZ,CA6EA,cAAenB,CAAAA,GAAf","sourcesContent":["import { wait, createGetId, getTimestamp, throwError } from '../utisl';\nimport data from './db';\n\nconst getId = createGetId(data.length);\n\nconst api = {\n  // GET /users\n  async getUsers() {\n    await wait(1000);\n\n    console.log('GET /users', data);\n    return data;\n  },\n  // GET /users/:id\n  async getUser(id) {\n    await wait();\n\n    const user = data.find(u => u.id === id);\n\n    if (user) {\n      console.log(`GET /users/${user.id}`, user);\n      return user;\n    } else {\n      throwError(id);\n    }\n  },\n  // POST /users\n  async createUser(user) {\n    await wait();\n\n    const newUser = {\n      ...user,\n      id: getId(),\n      timestamp: getTimestamp()\n    };\n\n    data.push(newUser);\n\n    console.log('POST /users', newUser);\n    return newUser;\n  },\n  // PUT /users\n  async editUser(user) {\n    await wait();\n\n    const index = data.findIndex(u => u.id === user.id);\n\n    if (~index) {\n      data[index] = {\n        ...user,\n        timestamp: getTimestamp()\n      };\n\n      console.log('PUT /users', data[index]);\n      return data[index];\n    } else {\n      throwError(user.id);\n    }\n  },\n  // DELETE /users\n  async deleteUser(user) {\n    await wait();\n\n    const index = data.findIndex(u => u.id === user.id);\n\n    if (~index) {\n      console.log('DELETE /users', user);\n      return data.splice(index, 1);\n    } else {\n      throwError(user.id);\n    }\n  },\n  // GET /roles\n  async getRoles() {\n    await wait();\n    const ROLES = ['user', 'super-user', 'admin'];\n\n    console.log('GET /roles', ROLES);\n    return ROLES;\n  }\n};\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}